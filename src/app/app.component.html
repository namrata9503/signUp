<section id="sign-up-form">
  <div class="container-fluid">
    <div class="row mt-3">
      <div class="col-md-12">
        <div class="text-center">
          <p [ngClass]="{'error': errorMessage, 'success': !errorMessage}">{{updateMessage}}</p>
        </div>
        <div class="d-flex justify-content-start  h-100">
         
          <div class="card mt-5" [hidden]="submitted">
            <div class="card-header">
              <h3 class="text-center">Sign Up Form</h3>
            </div>
            <div class="card-body">

              <div >
                <form [formGroup]="form" (ngSubmit)="postUser(userObj)">

                  <div class="row justify-content-between">
                    <div class="input-group form-group">
                      <div class="input-group-prepend">
                        <span class="input-group-text"><i class="fa fa-user"></i></span>
                      </div>
                      <input type="text" [(ngModel)]="userObj.firstName" formControlName="fname" class="form-control "
                        id="fname" placeholder="FirstName"
                        [ngClass]="{ 'is-invalid': f.fname.touched && f.fname.errors }">
                      <div *ngIf="f.fname.touched && f.fname.errors" class="invalid-feedback">
                        <div *ngIf="f.fname.errors.required" class="text-danger"> FirstName is required</div>
                      </div>

                    </div>
                    <div class="input-group form-group">
                      <div class="input-group-prepend">
                        <span class="input-group-text"><i class="fa fa-user"></i></span>
                      </div>
                      <input type="text" [(ngModel)]="userObj.lastName" formControlName="lname" class="form-control "
                        id="lname" placeholder="LasttName"
                        [ngClass]="{ 'is-invalid': f.lname.touched && f.lname.errors }">
                      <div *ngIf="f.lname.touched && f.lname.errors" class="invalid-feedback">
                        <div *ngIf="f.lname.errors.required" class="text-danger"> LasttName is required</div>
                      </div>

                    </div>
                    <div class="input-group form-group">
                      <div class="input-group-prepend">
                        <span class="input-group-text"><i class="fa fa-envelope"></i></span>
                      </div>
                      <input type="email" [(ngModel)]="userObj.email" formControlName="email" class="form-control "
                        id="email" placeholder="Email Address"
                        [ngClass]="{ 'is-invalid': f.email.touched && f.email.errors }">
                      <div *ngIf="f.email.touched && f.email.errors" class="invalid-feedback">
                        <div *ngIf="f.email.errors.required" class="text-danger"> Email is required</div>
                        <div *ngIf="f.email.errors.pattern">Email must be a valid.</div>
                      </div>

                    </div>
                    <div class="input-group form-group">
                      <div class="input-group-prepend">
                        <span class="input-group-text"><i class="fa fa-key"></i></span>
                      </div>
                      <input type="text" [(ngModel)]="userObj.password" formControlName="password" class="form-control "
                        id="password" placeholder="Password"
                        [ngClass]="{ 'is-invalid': f.password.touched && f.password.errors }">
                        <div class="info">
                          <i class="fa fa-info-circle"></i>                    
                          <span class="extra-info">
                            Password is required.
                          </span>
                        </div>
                      <div *ngIf="f.password.touched && f.password.errors" class="invalid-feedback">
                        <div *ngIf="f.password.errors.required" class="text-danger"> Password is required.</div>
                        <div *ngIf="f.password.errors.minlength" class="text-danger">Password must be at least 8
                          characters.</div>
                        <div *ngIf="f.password.errors.pattern" class="text-danger">Password must be a contain uppercase
                          and lowercase letter.
                        </div>
                        <div *ngIf="f.password.errors.confirmedValidator" class="text-danger">Password should not
                          contain
                          firstname or
                          lastname.</div>
                      </div>
                    </div>
                  </div>
                  <button class="btn btn-primary m-2 btn__disable" [disabled]="!form.valid || isDisabled" clicked=true;
                    type="submit">
                    Submit</button>
                  <button class="btn btn-primary m-2" (click)=" refreshPage()">Cancel</button>
                  <div class="spinner_overlay" *ngIf="loading"></div>
                  <div class=" spin d-flex justify-content-center align-items-center">
                    <div class="spinner-border  text-primary" style="width: 5rem; height: 5rem;border-width: 8px;"
                      *ngIf="loading" role="status">
                      <span class="sr-only">Loading...</span>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>
</section>
<router-outlet></router-outlet>